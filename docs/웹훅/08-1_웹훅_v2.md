---
stoplight-id: pikrw7s6zt3kh
---

# μ›Ήν›…_v2

![2a35dce-_2023-07-24__9.39.56 (1).png](<../assets/images/2a35dce-_2023-07-24__9.39.56 (1).png>)


μ›Ήν›…μ΄λ€ μ¤ν…νμ΄μ—μ„ λ°μƒν•λ” μ •λ³΄λ¥Ό μ‹¤μ‹κ°„μΌλ΅ μ•λ ¤μ£Όλ” κΈ°λ¥μ…λ‹λ‹¤. λ‹¤μ–‘ν• [μ¤ν…νμ΄ μ΄λ²¤νΈ](https://docs.steppay.kr/docs/webhook-events)λ¥Ό μ κ³µν•κ³  μμΌλ©° μ›ν•λ” μ΄λ²¤νΈλ§ μ—°λ™ν•μ—¬ μμ‹ λ°›μΌμ‹¤ μ μμµλ‹λ‹¤.

# **μ›Ήν›… μ‚¬μ© ν•κΈ°**

μ•„λμ μμ„λ€λ΅ μ›Ήν›… μ—°λ™μ„ μ„ν• μ¤€λΉ„ν•μ‹¤ μ μμµλ‹λ‹¤. κ·Έλ¦¬κ³  μ΄λ²¤νΈ μ ν•μ— λ§λ” μ•΅μ…μ΄ λ°μƒν•λ©΄ μ›Ήν›…μ΄ μ „μ†΅λ©λ‹λ‹¤. μƒμ„Έ νμ΄μ§€μ—μ„ μ „μ†΅ λ‚΄μ—­μ„ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.

1. μ›Ήν›…μ„ μμ‹  λ°›μ„ end-pointλ¥Ό μ¤€λΉ„ν•©λ‹λ‹¤. μμ‹ λ°›μΌμ‹¤ λ°μ΄ν„°λ” [Api Spec](https://docs.steppay.kr/docs/%EC%9B%B9%ED%9B%85-v2#api-spec)λ¥Ό μ°Έμ΅°ν•΄μ£Όμ„Έμ”.
2. μ—°λ™ν•  API end-point URLμ„ [μ¤ν…νμ΄ ν¬νƒ](https://portal.steppay.kr/setting/webhook)μ—μ„ λ“±λ΅ν•μ‹¤ μ μμµλ‹λ‹¤.

![20eb30f-_2023-07-24__9.14.45.png](../assets/images/20eb30f-_2023-07-24__9.14.45.png)

3. λ“±λ΅ν• μ΄λ²¤νΈλ¥Ό λ°›μ•„λ³Ό μ μλ” μ•΅μ…μ„ ν•©λ‹λ‹¤. (μ. β€μ²­κµ¬μ„ μƒμ„±β€™ μ΄λ²¤νΈλ¥Ό μ—°λ™ν–μ„ κ²½μ°, μ²­κµ¬μ„λ¥Ό μƒμ„±ν•λ‹¤.)
4. μ›Ήν›… μƒμ„Έλ³΄κΈ° νμ΄μ§€μ—μ„ μ „μ†΅ λ‚΄μ—­μ„ ν™•μΈν•©λ‹λ‹¤.

![e5c1982-_2023-07-24__9.44.33.png](../assets/images/e5c1982-_2023-07-24__9.44.33.png)


## μ£Όμμ‚¬ν•­

> π¨ μ›Ήν›… μ΄λ²¤νΈλ¥Ό μ „μ†΅ν•λ” μμ„λ” λ³΄μ¥λμ§€ μ•μµλ‹λ‹¤.
> 
> μ›Ήν›… μ΄λ²¤νΈλ” μ‹¤μ‹κ°„μΌλ΅ λ°μƒν•λ©°, μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μμ—κ² λΉ λ¥Έ μ—…λ°μ΄νΈλ¥Ό μ κ³µν•λ ¤κ³  λ…Έλ ¥ν•©λ‹λ‹¤. κ·Έλ¬λ‚ λ„¤νΈμ›ν¬ μ§€μ—°, μ„λ²„ μ²λ¦¬ μ‹κ°„ λ“±μ μ΄μ λ΅ μΈν•΄, μ΄λ²¤νΈμ μ „μ†΅ μμ„κ°€ μ›λμ λ°μƒ μμ„μ™€ μΌμΉν•μ§€ μ•μ„ μ μμµλ‹λ‹¤. μ΄λ” μ›Ήν›… κµ¬μ΅°μ νΉμ„±μƒ ν”Όν•  μ μ—†λ” λ¬Έμ λ΅, μ΄λ²¤νΈλ¥Ό μμ‹ ν•λ” μ‹μ¤ν…μ΄ μ΄λ²¤νΈμ μμ„λ¥Ό κ°€μ •ν•κ³  λ™μ‘ν•λ„λ΅ μ„¤κ³„λμ–΄ μλ‹¤λ©΄ λ¬Έμ κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.
> 
> μ΄λ¬ν• μ΄μ λ΅, μ›Ήν›… μ΄λ²¤νΈλ¥Ό μ²λ¦¬ν•λ” λ΅μ§μ€ λ°λ“μ‹ μ΄λ²¤νΈκ°€ μμ„λ€λ΅ μ „λ‹¬λμ§€ μ•μ„ μ μλ‹¤λ” κ²ƒμ„ κ³ λ ¤ν•μ—¬ μ„¤κ³„λμ–΄μ•Ό ν•©λ‹λ‹¤. μ΄λ²¤νΈ μμ„μ— μμ΅΄ν•λ” μ²λ¦¬λ¥Ό μµμ†ν™”ν•κ³ , κ°€λ¥ν• κ° μ΄λ²¤νΈλ¥Ό λ…λ¦½μ μΌλ΅ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤. μ΄ μ μ„ μ λ…ν•μ‹μ–΄ μ›Ήν›…μ„ μ‚¬μ©ν•μ‹¤ λ• λ°μƒν•  μ μλ” λ¬Έμ μ— λ€λΉ„ν•μ‹κΈ° λ°”λλ‹λ‹¤.

# μ›Ήν›… μ—°λ™ν•κΈ°

μ›Ήν›… μ—°λ™μ— ν•„μ”ν• μ •λ³΄μ…λ‹λ‹¤. μ „λ‹¬ν•λ” **Spec**μ€ κΈ°λ³Έμ μΌλ΅ λ™μΌν•λ©°, Spec λ‚΄μ **`data`** ν”„λ΅νΌν‹°κ°€ μ΄λ²¤νΈλ³„λ΅ κ°€λ³€μ μ…λ‹λ‹¤. μ¤ν…νμ΄κ°€ μ κ³µν•λ” μ΄λ²¤νΈλ¥Ό ν™•μΈν•μ‹κ³  μ΄λ²¤νΈμ— λ§λ” μ¤ν‚¤λ§λ¥Ό λ€μ‘ν•΄μ„ λ°μ΄ν„°λ¥Ό μμ‹ λ°›μΌμ‹¤ μ μμµλ‹λ‹¤.

[Webhook Events](https://docs.steppay.kr/docs/webhook-events)

[Webhook Schema](https://docs.steppay.kr/docs/webhook-schema)

## **API Spec**

μ›Ήν›…μΌλ΅ λ¶€ν„° λ°›μ„ μ μλ” API Specμ…λ‹λ‹¤.

ν„μ¬ μ§€μ›ν•λ” **Content-Type**μ€ '**application/json**'λ§ κ°€λ¥ν•©λ‹λ‹¤.

### β”οΈΒ **Webhook Request**

μ•„λλ” webhook request μ •λ³΄λ¥Ό μ„¤λ…ν•λ” ν‘μ…λ‹λ‹¤. λ¨λ“  μ›Ήν›… μ”μ²­μ€ μ•„λμ κ·κ²©μΌλ΅ μ „μ†΅λλ©°, `event(μ΄λ²¤νΈ νƒ€μ…)` μΌλ΅ μ΄λ²¤νΈλ¥Ό κµ¬λ¶„ν•  μ μμµλ‹λ‹¤. 

| λ³€μλ…       | νƒ€μ…     | description |
| --------- | ------ | ----------- |
| timestamp | Long   | timestamp   |
| version   | String | API Version |
| event     | String | μ΄λ²¤νΈ νƒ€μ…      |
| data      | Object | Schema      |

- **JSON Example**

```json
{
  "timestamp": 1688697915,
  "version": "v1",
  "event": "subscription.usage.added",
  "data": {...} // versionκ³Ό λ§¤μΉ­λλ” Schema
}
```

# μ›Ήν›… ν…μ¤νΈ

## μμ‹  λ°μ΄ν„° ν™•μΈν•κΈ°

μ—°λ™ μ „μ— μμ‹ λλ” λ°μ΄ν„°λ§ ν™•μΈν•΄λ³΄κ³  μ‹¶μ€ κ²½μ°μ— λ‹¤μμ λ°©λ²•μΌλ΅ λ°μ΄ν„°λ¥Ό ν™•μΈν•΄λ³Ό μ μμµλ‹λ‹¤.

1. <https://webhook.site> λ¥Ό μ ‘μ†ν•©λ‹λ‹¤.
2. νμ΄μ§€μ **Your unique URL** λ¥Ό λ³µμ‚¬ν•©λ‹λ‹¤.

![de5debe-File.jpg](../assets/images/de5debe-File.jpg)


3. ν¬νƒμ— ν•΄λ‹Ή URLλ΅ μ΄λ²¤νΈλ¥Ό λ“±λ΅ν•©λ‹λ‹¤.

![606084d-_2023-08-02__11.31.25.png](../assets/images/606084d-_2023-08-02__11.31.25.png)

4. μ΄λ²¤νΈμ— ν•΄λ‹Ήν•λ” μ•΅μ…μ„ μ·¨ν•©λ‹λ‹¤. μμ‹μ κ²½μ° 'κ²°μ μ™„λ£(payment.completed)' μ•΅μ…μ„ μν–‰ν•©λ‹λ‹¤.
5. [https://webhook.site](https://webhook.site/) μ—μ„ μμ‹ λ°›μ€ λ°μ΄ν„°λ¥Ό ν™•μΈν•©λ‹λ‹¤. μμ‹λ” β€κ²°μ μ™„λ£(payment.completed)β€™μ΄λ²¤νΈλ¥Ό μμ‹ λ°›μ€ κ²°κ³Ό μ…λ‹λ‹¤.

![02603e3-File_1.jpg](../assets/images/02603e3-File_1.jpg)
